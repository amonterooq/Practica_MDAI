<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NADA | Tu armario digital</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/index.css}">
</head>
<body>

<nav class="navbar">
    <div class="nav-container">
        <a th:href="@{/}" class="logo">NADA<span style="color:var(--accent)">.</span></a>
        <ul class="nav-links">
            <li><a th:href="@{/posts/}">Posts</a></li>
            <li><a th:href="${session.usuarioLogueado == null} ? @{/usuarios/login} : @{/armario/}">Armario</a></li>
            <li><a th:href="${session.usuarioLogueado == null} ? @{/usuarios/login} : @{/conjuntos/}">Conjuntos</a></li>
            <!-- Si el usuario no está logueado, muestra "Acceder" -->
            <li th:if="${session.usuarioLogueado == null}">
                <a th:href="@{/usuarios/login}">Acceder</a>
            </li>
            <!-- Si el usuario está logueado, muestra su nombre y un enlace para salir -->
            <li th:if="${session.usuarioLogueado != null}">
                <a th:href="@{/usuarios/perfil}" th:text="${session.usuarioLogueado.username}"></a>
            </li>
            <li th:if="${session.usuarioLogueado != null}">
                <a th:href="@{/usuarios/logout}">Salir</a>
            </li>
        </ul>
    </div>
</nav>

<header class="hero">
    <div class="hero-content">
        <span class="slogan">¿No tienes NADA que ponerte?</span>
        <h1>Organiza tu estilo. <br>Simplifica tu vida.</h1>
        <p>
            NADA es tu armario digital personal. Sube tus prendas, organízalas por categorías y crea conjuntos perfectos para cada ocasión.
        </p>
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <a th:href="${session.usuarioLogueado == null} ? @{/usuarios/login} : @{/armario/}" class="btn-editorial">Mi Armario</a>
            <a th:href="${session.usuarioLogueado == null} ? @{/usuarios/login} : @{/conjuntos/}" class="btn-editorial" style="background: white; color: var(--text-primary);">Ver Conjuntos</a>
        </div>
    </div>
    <div class="hero-image">
        <img src="/logo.png" alt="NADA Logo" style="max-width: 300px; margin: 0 auto; display: block;">
    </div>
</header>

<section class="features">
    <div class="section-title">
        <h2>La Experiencia</h2>
        <span></span>
    </div>

    <div class="features-grid">
        <div class="feature-item">
            <i class="fas fa-camera feature-icon"></i>
            <h3>Digitaliza</h3>
            <p>Sube fotos de tus prendas. Clasifícalas por tipo, color, talla y marca para tener todo bajo control.</p>
        </div>

        <div class="feature-item">
            <i class="fas fa-layer-group feature-icon"></i>
            <h3>Combina</h3>
            <p>Elige. Mezcla. Crea. Diseña conjuntos únicos seleccionando prendas de tu armario digital.</p>
        </div>

        <div class="feature-item">
            <i class="fas fa-calendar-check feature-icon"></i>
            <h3>Organiza</h3>
            <p>Guarda tus outfits favoritos con notas personalizadas para recordar qué ponerte en cada evento.</p>
        </div>
    </div>
</section>

<section class="team-section">
    <div class="section-title">
        <h2>Creadores</h2>
        <span></span>
    </div>

    <div class="team-grid">
        <div class="member">
            <div class="member-img-frame">
                <img src="/francisco.jpg" alt="Francisco Montero" onerror="this.src='https://ui-avatars.com/api/?name=Francisco+Montero&background=2c3e50&color=fff'">
            </div>
            <h4>Francisco Montero</h4>
            <span>Desarrollo Backend</span>
        </div>

        <div class="member">
            <div class="member-img-frame">
                <img src="/ana.jpg" alt="Ana Montero" onerror="this.src='https://ui-avatars.com/api/?name=Ana+Montero&background=2c3e50&color=fff'">
            </div>
            <h4>Ana Montero</h4>
            <span>Diseño & Frontend</span>
        </div>
    </div>
</section>

<footer>
    <p>&copy; 2025 NADA. Tu armario virtual.</p>
    <p style="margin-top: 10px; font-style: italic;">"La moda se pasa de moda, el estilo jamás."</p>
</footer>

<!-- Chat Widget (solo si el usuario está autenticado) -->
<div th:if="${session.usuarioLogueado != null}">
    <div th:replace="~{fragments/chat-widget :: chatWidget}"></div>
</div>

<!-- Scripts del chat -->
<link rel="stylesheet" th:href="@{/css/chat-widget.css}" th:if="${session.usuarioLogueado != null}">
<script th:src="@{/js/chat-widget.js}" th:if="${session.usuarioLogueado != null}"></script>

</body>
</html>
